Step: build-step-credential-initializer:

Step: build-step-git-source:

Step: build-step-jenkins:

Picked up _JAVA_OPTIONS: -Xmx400m
Started
Running in Durability level: PERFORMANCE_OPTIMIZED
  40.010 [id=28]	WARNING	i.f.k.c.i.VersionUsageUtils#alert: The client is using resource type 'customresourcedefinitions' with unstable version 'v1beta1'
[Pipeline] node
Running on Jenkins in /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
  63.957 [id=67]	WARNING	o.j.plugins.workflow.cps.DSL#invokeStep: Error storing the arguments for step: checkout
org.kohsuke.stapler.NoStaplerConstructorException: There's no @DataBoundConstructor on any constructor of class io.jenkins.jenkinsfile.runner.FileSystemSCM
	at org.kohsuke.stapler.ClassDescriptor.loadConstructorParamNames(ClassDescriptor.java:265)
	at org.jenkinsci.plugins.structs.describable.DescribableModel.<init>(DescribableModel.java:144)
	at org.jenkinsci.plugins.structs.describable.DescribableModel.of(DescribableModel.java:114)
	at org.jenkinsci.plugins.workflow.cps.actions.ArgumentsActionImpl.sanitizeObjectAndRecordMutation(ArgumentsActionImpl.java:294)
	at org.jenkinsci.plugins.workflow.cps.actions.ArgumentsActionImpl.sanitizeMapAndRecordMutation(ArgumentsActionImpl.java:386)
	at org.jenkinsci.plugins.workflow.cps.actions.ArgumentsActionImpl.<init>(ArgumentsActionImpl.java:74)
	at org.jenkinsci.plugins.workflow.cps.DSL.invokeStep(DSL.java:245)
	at org.jenkinsci.plugins.workflow.cps.DSL.invokeMethod(DSL.java:178)
	at org.jenkinsci.plugins.workflow.cps.CpsScript.invokeMethod(CpsScript.java:122)
	at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:48)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)
	at com.cloudbees.groovy.cps.sandbox.DefaultInvoker.methodCall(DefaultInvoker.java:20)
	at com.cloudbees.groovy.cps.impl.ContinuationGroup.methodCall(ContinuationGroup.java:57)
	at com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.dispatchOrArg(FunctionCallBlock.java:109)
	at com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.fixArg(FunctionCallBlock.java:82)
	at sun.reflect.GeneratedMethodAccessor169.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)
	at com.cloudbees.groovy.cps.impl.PropertyishBlock$ContinuationImpl.get(PropertyishBlock.java:76)
	at com.cloudbees.groovy.cps.LValueBlock$GetAdapter.receive(LValueBlock.java:30)
	at com.cloudbees.groovy.cps.impl.PropertyishBlock$ContinuationImpl.fixName(PropertyishBlock.java:66)
	at sun.reflect.GeneratedMethodAccessor173.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)
	at com.cloudbees.groovy.cps.impl.ConstantBlock.eval(ConstantBlock.java:21)
	at com.cloudbees.groovy.cps.Next.step(Next.java:83)
	at com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:174)
	at com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:163)
	at org.codehaus.groovy.runtime.GroovyCategorySupport$ThreadCategoryInfo.use(GroovyCategorySupport.java:129)
	at org.codehaus.groovy.runtime.GroovyCategorySupport.use(GroovyCategorySupport.java:268)
	at com.cloudbees.groovy.cps.Continuable.run0(Continuable.java:163)
	at org.jenkinsci.plugins.workflow.cps.SandboxContinuable.access$101(SandboxContinuable.java:34)
	at org.jenkinsci.plugins.workflow.cps.SandboxContinuable.lambda$run0$0(SandboxContinuable.java:59)
	at org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.GroovySandbox.runInSandbox(GroovySandbox.java:108)
	at org.jenkinsci.plugins.workflow.cps.SandboxContinuable.run0(SandboxContinuable.java:58)
	at org.jenkinsci.plugins.workflow.cps.CpsThread.runNextChunk(CpsThread.java:182)
	at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.run(CpsThreadGroup.java:332)
	at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.access$200(CpsThreadGroup.java:83)
	at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:244)
	at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:232)
	at org.jenkinsci.plugins.workflow.cps.CpsVmExecutorService$2.call(CpsVmExecutorService.java:64)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at hudson.remoting.SingleLaneExecutorService$1.run(SingleLaneExecutorService.java:131)
	at jenkins.util.ContextResettingExecutorService$1.run(ContextResettingExecutorService.java:28)
	at jenkins.security.ImpersonatingExecutorService$1.run(ImpersonatingExecutorService.java:59)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
[Pipeline] checkout
[Pipeline] }
[Pipeline] // stage
[Pipeline] withCredentials
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (CI Build and deploy preview)
  67.705 [id=72]	WARNING	o.j.plugins.workflow.cps.DSL#invokeStep: Error storing the arguments for step: checkout
org.kohsuke.stapler.NoStaplerConstructorException: There's no @DataBoundConstructor on any constructor of class io.jenkins.jenkinsfile.runner.FileSystemSCM
	at org.kohsuke.stapler.ClassDescriptor.loadConstructorParamNames(ClassDescriptor.java:265)
	at org.jenkinsci.plugins.structs.describable.DescribableModel.<init>(DescribableModel.java:144)
	at org.jenkinsci.plugins.structs.describable.DescribableModel.of(DescribableModel.java:114)
	at org.jenkinsci.plugins.workflow.cps.actions.ArgumentsActionImpl.sanitizeObjectAndRecordMutation(ArgumentsActionImpl.java:294)
	at org.jenkinsci.plugins.workflow.cps.actions.ArgumentsActionImpl.sanitizeMapAndRecordMutation(ArgumentsActionImpl.java:386)
	at org.jenkinsci.plugins.workflow.cps.actions.ArgumentsActionImpl.<init>(ArgumentsActionImpl.java:74)
	at org.jenkinsci.plugins.workflow.cps.DSL.invokeStep(DSL.java:245)
	at org.jenkinsci.plugins.workflow.cps.DSL.invokeMethod(DSL.java:178)
	at org.jenkinsci.plugins.workflow.cps.CpsScript.invokeMethod(CpsScript.java:122)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1213)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)
	at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:42)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)
	at org.kohsuke.groovy.sandbox.impl.Checker$1.call(Checker.java:157)
	at org.kohsuke.groovy.sandbox.GroovyInterceptor.onMethodCall(GroovyInterceptor.java:23)
	at org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.SandboxInterceptor.onMethodCall(SandboxInterceptor.java:155)
	at org.kohsuke.groovy.sandbox.impl.Checker$1.call(Checker.java:155)
	at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:159)
	at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:129)
	at com.cloudbees.groovy.cps.sandbox.SandboxInvoker.methodCall(SandboxInvoker.java:17)
	at com.cloudbees.groovy.cps.impl.ContinuationGroup.methodCall(ContinuationGroup.java:57)
	at com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.dispatchOrArg(FunctionCallBlock.java:109)
	at com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.fixArg(FunctionCallBlock.java:82)
	at sun.reflect.GeneratedMethodAccessor169.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)
	at com.cloudbees.groovy.cps.impl.PropertyishBlock$ContinuationImpl.get(PropertyishBlock.java:76)
	at com.cloudbees.groovy.cps.LValueBlock$GetAdapter.receive(LValueBlock.java:30)
	at com.cloudbees.groovy.cps.impl.PropertyishBlock$ContinuationImpl.fixName(PropertyishBlock.java:66)
	at sun.reflect.GeneratedMethodAccessor173.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)
	at com.cloudbees.groovy.cps.impl.ConstantBlock.eval(ConstantBlock.java:21)
	at com.cloudbees.groovy.cps.Next.step(Next.java:83)
	at com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:174)
	at com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:163)
	at org.codehaus.groovy.runtime.GroovyCategorySupport$ThreadCategoryInfo.use(GroovyCategorySupport.java:129)
	at org.codehaus.groovy.runtime.GroovyCategorySupport.use(GroovyCategorySupport.java:268)
	at com.cloudbees.groovy.cps.Continuable.run0(Continuable.java:163)
	at org.jenkinsci.plugins.workflow.cps.SandboxContinuable.access$101(SandboxContinuable.java:34)
	at org.jenkinsci.plugins.workflow.cps.SandboxContinuable.lambda$run0$0(SandboxContinuable.java:59)
	at org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.GroovySandbox.runInSandbox(GroovySandbox.java:108)
	at org.jenkinsci.plugins.workflow.cps.SandboxContinuable.run0(SandboxContinuable.java:58)
	at org.jenkinsci.plugins.workflow.cps.CpsThread.runNextChunk(CpsThread.java:182)
	at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.run(CpsThreadGroup.java:332)
	at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.access$200(CpsThreadGroup.java:83)
	at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:244)
	at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:232)
	at org.jenkinsci.plugins.workflow.cps.CpsVmExecutorService$2.call(CpsVmExecutorService.java:64)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at hudson.remoting.SingleLaneExecutorService$1.run(SingleLaneExecutorService.java:131)
	at jenkins.util.ContextResettingExecutorService$1.run(ContextResettingExecutorService.java:28)
	at jenkins.security.ImpersonatingExecutorService$1.run(ImpersonatingExecutorService.java:59)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
[Pipeline] withEnv
[Pipeline] {
[Pipeline] checkout
[Pipeline] sh
+ ./scripts/ci/feature.sh
+ set -e
+ apt-get install --fix-missing -y yarn
Reading package lists...
Building dependency tree...
Reading state information...
The following additional packages will be installed:
  libyaml-0-2 python-chardet python-cliapp python-markdown python-pygments
  python-ttystatus python-yaml
Suggested packages:
  libjs-jquery libjs-underscore python-markdown-doc ttf-bitstream-vera
The following NEW packages will be installed:
  cmdtest libyaml-0-2 python-chardet python-cliapp python-markdown
  python-pygments python-ttystatus python-yaml
0 upgraded, 8 newly installed, 0 to remove and 7 not upgraded.
Need to get 1025 kB of archives.
After this operation, 5210 kB of additional disk space will be used.
Get:1 http://deb.debian.org/debian stretch/main amd64 libyaml-0-2 amd64 0.1.7-2 [47.6 kB]
Get:2 http://deb.debian.org/debian stretch/main amd64 python-yaml amd64 3.12-1 [119 kB]
Get:3 http://deb.debian.org/debian stretch/main amd64 python-cliapp all 1.20160724-2 [80.6 kB]
Get:4 http://deb.debian.org/debian stretch/main amd64 python-ttystatus all 0.34-1 [14.7 kB]
Get:5 http://deb.debian.org/debian stretch/main amd64 python-markdown all 2.6.8-1 [58.0 kB]
Get:6 http://deb.debian.org/debian stretch/main amd64 cmdtest all 0.27-1 [19.8 kB]
Get:7 http://deb.debian.org/debian stretch/main amd64 python-chardet all 2.3.0-2 [96.0 kB]
Get:8 http://deb.debian.org/debian stretch/main amd64 python-pygments all 2.2.0+dfsg-1 [590 kB]
debconf: delaying package configuration, since apt-utils is not installed
Fetched 1025 kB in 0s (4369 kB/s)
Selecting previously unselected package libyaml-0-2:amd64.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 36156 files and directories currently installed.)
Preparing to unpack .../0-libyaml-0-2_0.1.7-2_amd64.deb ...
Unpacking libyaml-0-2:amd64 (0.1.7-2) ...
Selecting previously unselected package python-yaml.
Preparing to unpack .../1-python-yaml_3.12-1_amd64.deb ...
Unpacking python-yaml (3.12-1) ...
Selecting previously unselected package python-cliapp.
Preparing to unpack .../2-python-cliapp_1.20160724-2_all.deb ...
Unpacking python-cliapp (1.20160724-2) ...
Selecting previously unselected package python-ttystatus.
Preparing to unpack .../3-python-ttystatus_0.34-1_all.deb ...
Unpacking python-ttystatus (0.34-1) ...
Selecting previously unselected package python-markdown.
Preparing to unpack .../4-python-markdown_2.6.8-1_all.deb ...
Unpacking python-markdown (2.6.8-1) ...
Selecting previously unselected package cmdtest.
Preparing to unpack .../5-cmdtest_0.27-1_all.deb ...
Unpacking cmdtest (0.27-1) ...
Selecting previously unselected package python-chardet.
Preparing to unpack .../6-python-chardet_2.3.0-2_all.deb ...
Unpacking python-chardet (2.3.0-2) ...
Selecting previously unselected package python-pygments.
Preparing to unpack .../7-python-pygments_2.2.0+dfsg-1_all.deb ...
Unpacking python-pygments (2.2.0+dfsg-1) ...
Setting up python-chardet (2.3.0-2) ...
Setting up python-ttystatus (0.34-1) ...
Setting up libyaml-0-2:amd64 (0.1.7-2) ...
Setting up python-pygments (2.2.0+dfsg-1) ...
Processing triggers for libc-bin (2.24-11+deb9u3) ...
Setting up python-markdown (2.6.8-1) ...
Setting up python-yaml (3.12-1) ...
Setting up python-cliapp (1.20160724-2) ...
Setting up cmdtest (0.27-1) ...
+ npm -v
5.6.0
+ node -v
v9.11.2
+ yarn -v
1.3.2
+ yarn install --ignore-engines
yarn install v1.3.2
[1/4] Resolving packages...
[2/4] Fetching packages...
info fsevents@1.2.4: The platform "linux" is incompatible with this module.
info "fsevents@1.2.4" is an optional dependency and failed compatibility check. Excluding it from installation.
[3/4] Linking dependencies...
warning "webpack-dev-server > schema-utils > ajv-errors@1.0.0" has unmet peer dependency "ajv@>=5.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-data@1.0.0" has unmet peer dependency "mobx@^5.5.2".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-data@1.0.0" has unmet peer dependency "mobx-react@^5.3.6".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-data@1.0.0" has unmet peer dependency "mobx-state-tree@^3.7.1".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-data@1.0.0" has unmet peer dependency "react@^16.6.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard@1.0.0" has unmet peer dependency "react@^16.6.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard@1.0.0" has unmet peer dependency "react-dom@^16.6.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/kubecd-data@1.0.0" has unmet peer dependency "mobx@^5.5.2".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/kubecd-data@1.0.0" has unmet peer dependency "mobx-react@^5.3.6".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/kubecd-data@1.0.0" has unmet peer dependency "mobx-state-tree@^3.7.1".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-api > ts-jest@23.10.4" has unmet peer dependency "jest@>=22 <24".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > react-modal@3.6.1" has unmet peer dependency "react@^0.14.0 || ^15.0.0 || ^16".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > react-outside-click-handler@1.2.2" has unmet peer dependency "react@^0.14 || >=15".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > react-select@2.1.1" has unmet peer dependency "react@^15.3.0 || ^16.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > react-transition-group@2.5.0" has unmet peer dependency "react@>=15.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > @storybook/addon-actions@4.0.4" has unmet peer dependency "react@*".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > @storybook/addon-info@3.4.11" has unmet peer dependency "react@*".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > @storybook/addon-jest@3.4.11" has unmet peer dependency "@storybook/addons@^3.3.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > @storybook/addon-jest@3.4.11" has unmet peer dependency "react@*".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > @storybook/addon-options@3.4.11" has unmet peer dependency "@storybook/addons@^3.3.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > @storybook/addon-options@3.4.11" has unmet peer dependency "react@*".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > @storybook/react@4.0.4" has unmet peer dependency "react@>=15.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > env-var-helpers@4.1.0" has unmet peer dependency "lodash@^4.x".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > enzyme-adapter-react-16@1.6.0" has unmet peer dependency "react@^16.0.0-0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > react-dom@16.6.1" has unmet peer dependency "react@^16.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > react-test-renderer@16.6.1" has unmet peer dependency "react@^16.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-ui > @expantra/pipeline-widget-proto@0.0.2-JW" has unmet peer dependency "react@^16.4.1".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-ui > @expantra/pipeline-widget-proto@0.0.2-JW" has unmet peer dependency "react-dom@^16.4.1".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-ui > mst-middlewares@3.6.0" has unmet peer dependency "mobx-state-tree@^3.4.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-ui > react-copy-to-clipboard@5.0.1" has unmet peer dependency "react@^15.3.0 || ^16.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-ui > react-hotkeys@1.1.4" has unmet peer dependency "react@>= 0.14.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-ui > react-hotkeys@1.1.4" has unmet peer dependency "react-dom@>= 0.14.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-ui > react-lazylog@3.2.0" has unmet peer dependency "react@>=16.3.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-ui > react-router@4.2.0" has unmet peer dependency "react@>=15".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-ui > react-router-dom@4.2.2" has unmet peer dependency "react@>=15".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/kubecd-ui > formik@1.3.2" has unmet peer dependency "react@>=15".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/kubecd-ui > react-addons-css-transition-group@15.6.2" has unmet peer dependency "react@^15.4.2".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/kubecd-ui > react-dimensions@1.3.1" has unmet peer dependency "react@^0.14.0 || ^15.0.0 || ^16.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/kubecd-ui > react-dimensions@1.3.1" has unmet peer dependency "react-dom@^0.14.0 || ^15.0.0 || ^16.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/kubecd-ui > react-gravatar@2.6.3" has unmet peer dependency "react@*".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/kubecd-ui > react-select@1.3.0" has unmet peer dependency "react@^0.14.9 || ^15.3.0 || ^16.0.0-rc || ^16.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/kubecd-ui > react-select@1.3.0" has unmet peer dependency "react-dom@^0.14.9 || ^15.3.0 || ^16.0.0-rc || ^16.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/kubecd-ui > react-sparklines@1.7.0" has unmet peer dependency "react@*".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/kubecd-ui > react-sparklines@1.7.0" has unmet peer dependency "react-dom@*".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/kubecd-ui > react-spinners@0.4.7" has unmet peer dependency "react@^0.14.0 || ^15.0.0 || ^16.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/kubecd-ui > react-spinners@0.4.7" has unmet peer dependency "react-dom@^0.14.0 || ^15.0.0 || ^16.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/kubecd-ui > react-virtualized@9.21.0" has unmet peer dependency "react@^15.3.0 || ^16.0.0-alpha".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/kubecd-ui > react-virtualized@9.21.0" has unmet peer dependency "react-dom@^15.3.0 || ^16.0.0-alpha".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > react-outside-click-handler > airbnb-prop-types@2.11.0" has unmet peer dependency "react@^0.14 || ^15.0.0 || ^16.0.0-alpha".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > react-select > react-input-autosize@2.2.1" has unmet peer dependency "react@^0.14.9 || ^15.3.0 || ^16.0.0-rc || ^16.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > @storybook/addon-actions > @emotion/core@0.13.1" has unmet peer dependency "react@>=16.3.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > @storybook/addon-actions > @emotion/provider@0.11.2" has unmet peer dependency "react@>=16.3.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > @storybook/addon-actions > @storybook/components@4.0.4" has unmet peer dependency "react@*".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > @storybook/addon-actions > react-inspector@2.3.0" has unmet peer dependency "react@^0.14.0 || ^15.0.0 || ^16.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > @storybook/addon-info > @storybook/components@3.4.11" has unmet peer dependency "react@*".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > @storybook/react > @storybook/core@4.0.4" has unmet peer dependency "react@>=16.3.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > env-var-helpers > mad-logs@10.3.6" has unmet peer dependency "lodash@^4.x".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > enzyme-adapter-react-16 > enzyme-adapter-utils@1.8.1" has unmet peer dependency "react@0.13.x || 0.14.x || ^15.0.0-0 || ^16.0.0-0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-ui > react-document-title > react-side-effect@1.1.5" has unmet peer dependency "react@^0.13.0 || ^0.14.0 || ^15.0.0 || ^16.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-ui > react-router-dom > react-router@4.3.1" has unmet peer dependency "react@>=15".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/kubecd-ui > formik > create-react-context@0.2.3" has unmet peer dependency "prop-types@^15.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/kubecd-ui > formik > create-react-context@0.2.3" has unmet peer dependency "react@^0.14.0 || ^15.0.0 || ^16.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/kubecd-ui > react-addons-css-transition-group > react-transition-group@1.2.1" has unmet peer dependency "react@^15.0.0 || ^16.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/kubecd-ui > react-addons-css-transition-group > react-transition-group@1.2.1" has unmet peer dependency "react-dom@^15.0.0 || ^16.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/kubecd-ui > react-spinners > react-emotion@9.2.12" has unmet peer dependency "react@15.x || 16.x".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/kubecd-ui > react-spinners > recompose@0.27.1" has unmet peer dependency "react@^0.14.0 || ^15.0.0 || ^16.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > @storybook/addon-actions > @emotion/styled > @emotion/styled-base@0.10.6" has unmet peer dependency "react@>=16.3.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > @storybook/addon-actions > @storybook/components > react-textarea-autosize@7.0.4" has unmet peer dependency "react@>=0.14.0 <17.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > @storybook/addon-actions > @storybook/components > render-fragment@0.1.1" has unmet peer dependency "react@^15.0.0 || ^16.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > @storybook/addon-actions > @storybook/components > render-fragment@0.1.1" has unmet peer dependency "prop-types@^15.0.0 || ^16.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > @storybook/react > @storybook/core > @storybook/ui@4.0.4" has unmet peer dependency "react@*".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > env-var-helpers > mad-logs > env-var-helpers@5.2.0" has unmet peer dependency "lodash@^4.x".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/kubecd-ui > react-spinners > react-emotion > create-emotion-styled@9.2.8" has unmet peer dependency "prop-types@15.x".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > @storybook/react > @storybook/core > @storybook/ui > @storybook/react-komposer@2.0.5" has unmet peer dependency "react@^0.14.7 || ^15.0.0 || ^16.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > @storybook/react > @storybook/core > @storybook/ui > react-fuzzy@0.5.2" has unmet peer dependency "react@^0.14.7 || ^15.0.0 || ^16.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > @storybook/react > @storybook/core > @storybook/ui > react-treebeard@3.1.0" has unmet peer dependency "@emotion/styled@^0.10.6".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > @storybook/react > @storybook/core > @storybook/ui > react-treebeard@3.1.0" has unmet peer dependency "react@^15.5.4 || ^16.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > @storybook/react > @storybook/core > @storybook/ui > @storybook/mantra-core > @storybook/react-simple-di@1.3.0" has unmet peer dependency "react@^0.14.0 || ^15.0.0 || ^16.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > @storybook/react > @storybook/core > @storybook/ui > @storybook/react-komposer > @storybook/react-stubber@1.0.1" has unmet peer dependency "react@^0.14.7 || ^15.0.0 || ^16.0.0".
warning "workspace-aggregator-22c04ac3-7689-443b-9705-f8e2876cfaf2 > @cloudbees/core-shipyard > @storybook/react > @storybook/core > @storybook/ui > react-treebeard > velocity-react@1.4.1" has unmet peer dependency "react@^15.3.0 || ^16.0.0".
[4/4] Building fresh packages...
Done in 441.88s.
+ yarn build-packages
yarn run v1.3.2
$ sh ./scripts/build/packages.sh
16:54:43
$ /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/node_modules/.bin/lerna run build --scope @cloudbees/core-api
lerna notice cli v3.4.3
lerna info versioning independent
lerna info filter [ '@cloudbees/core-api' ]
lerna info Executing command in 1 package: "npm run build"

> @cloudbees/core-api@1.0.0 build /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/packages/core-api
> rimraf ./dist && tsc -p ./tsconfig.build.json

lerna success run Ran npm script 'build' in 1 package:
lerna success - @cloudbees/core-api
16:55:00
$ /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/node_modules/.bin/lerna run build --scope @cloudbees/core-data
lerna notice cli v3.4.3
lerna info versioning independent
lerna info filter [ '@cloudbees/core-data' ]
lerna info Executing command in 1 package: "npm run build"

> @cloudbees/core-data@1.0.0 build /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/packages/core-data
> rimraf ./dist && tsc -p ./tsconfig.build.json

lerna success run Ran npm script 'build' in 1 package:
lerna success - @cloudbees/core-data
16:55:17
$ /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/node_modules/.bin/lerna run build --scope @cloudbees/core-flags
lerna notice cli v3.4.3
lerna info versioning independent
lerna info filter [ '@cloudbees/core-flags' ]
lerna info Executing command in 1 package: "npm run build"

> @cloudbees/core-flags@1.0.0 build /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/packages/core-flags
> rimraf ./dist && tsc -p ./tsconfig.build.json

lerna success run Ran npm script 'build' in 1 package:
lerna success - @cloudbees/core-flags
16:55:32
$ /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/node_modules/.bin/lerna run build --scope @cloudbees/core-shipyard
lerna notice cli v3.4.3
lerna info versioning independent
lerna info filter [ '@cloudbees/core-shipyard' ]
lerna info Executing command in 1 package: "npm run build"

> @cloudbees/core-shipyard@1.0.0 build /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/packages/core-shipyard
> rimraf ./dist && tsc -p ./tsconfig.build.json

lerna success run Ran npm script 'build' in 1 package:
lerna success - @cloudbees/core-shipyard
16:55:54
$ /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/node_modules/.bin/lerna run build-css --scope '@cloudbees/*'
lerna notice cli v3.4.3
lerna info versioning independent
lerna info filter [ '@cloudbees/*' ]
lerna info Executing command in 1 package: "npm run build-css"

> @cloudbees/core-shipyard@1.0.0 build-css /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/packages/core-shipyard
> node-sass --importer ../../node_modules/node-sass-package-importer/dist/cli.js src/styles/shipyard.scss dist/index.css

Rendering Complete, saving .css file...
Wrote CSS to /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/packages/core-shipyard/dist/index.css
lerna success run Ran npm script 'build-css' in 1 package:
lerna success - @cloudbees/core-shipyard
16:56:02
$ /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/node_modules/.bin/lerna run copy-assets --scope '@cloudbees/*'
lerna notice cli v3.4.3
lerna info versioning independent
lerna info filter [ '@cloudbees/*' ]
lerna info Executing command in 1 package: "npm run copy-assets"

> @cloudbees/core-shipyard@1.0.0 copy-assets /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/packages/core-shipyard
> cd src/ && cpx './**/*.{scss, css}' ../dist

lerna success run Ran npm script 'copy-assets' in 1 package:
lerna success - @cloudbees/core-shipyard
16:56:08
$ /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/node_modules/.bin/lerna run build --scope @cloudbees/kubecd-data
lerna notice cli v3.4.3
lerna info versioning independent
lerna info filter [ '@cloudbees/kubecd-data' ]
lerna info Executing command in 1 package: "npm run build"

> @cloudbees/kubecd-data@1.0.0 build /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/packages/kubecd-data
> rimraf ./dist && tsc -p ./tsconfig.build.json

lerna success run Ran npm script 'build' in 1 package:
lerna success - @cloudbees/kubecd-data
Done in 108.39s.
+ yarn test
yarn run v1.3.2
$ cross-env NODE_ENV='ci' lerna run test --stream
lerna notice cli v3.4.3
lerna info versioning independent
lerna info Executing command in 7 packages: "npm run test"
@cloudbees/core-flags: > @cloudbees/core-flags@1.0.0 test /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/packages/core-flags
@cloudbees/core-flags: > jest || true
@cloudbees/core-shipyard: > @cloudbees/core-shipyard@1.0.0 test /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/packages/core-shipyard
@cloudbees/core-shipyard: > jest
@cloudbees/core-api: > @cloudbees/core-api@1.0.0 test /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/packages/core-api
@cloudbees/core-api: > jest
@cloudbees/core-flags: No tests found
@cloudbees/core-flags: In /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/packages/core-flags
@cloudbees/core-flags:   7 files checked.
@cloudbees/core-flags:   testMatch: **/__tests__/**/*.js?(x),**/?(*.)+(spec|test).js?(x) - 0 matches
@cloudbees/core-flags:   testPathIgnorePatterns: /node_modules/ - 7 matches
@cloudbees/core-flags: Pattern:  - 0 matches
@cloudbees/core-api: PASS src/auth.spec.ts (28.587s)
@cloudbees/core-api:   auth
@cloudbees/core-api:     âœ“ should be able to call signOut (59ms)
@cloudbees/core-api: Test Suites: 1 passed, 1 total
@cloudbees/core-api: Tests:       1 passed, 1 total
@cloudbees/core-api: Snapshots:   0 total
@cloudbees/core-api: Time:        28.707s
@cloudbees/core-api: Ran all test suites.
@cloudbees/core-shipyard: PASS src/components/menu/Menu.spec.tsx
@cloudbees/core-shipyard: PASS src/components/modal/Modal.spec.tsx
@cloudbees/core-shipyard: PASS src/components/icon/Icon.spec.tsx
@cloudbees/core-shipyard: PASS src/components/button/Button.spec.tsx
@cloudbees/core-shipyard: PASS src/components/card/Card.spec.tsx
@cloudbees/core-shipyard: PASS tests/shots.js (34.784s)
@cloudbees/core-shipyard:   â— Console
@cloudbees/core-shipyard:     console.warn src/utils/stories/withComponentTests.ts:8
@cloudbees/core-shipyard:       No tests results available
@cloudbees/core-shipyard: Test Suites: 6 passed, 6 total
@cloudbees/core-shipyard: Tests:       80 passed, 80 total
@cloudbees/core-shipyard: Snapshots:   67 passed, 67 total
@cloudbees/core-shipyard: Time:        78.349s
@cloudbees/core-shipyard: Ran all test suites.
@cloudbees/kubecd-data: > @cloudbees/kubecd-data@1.0.0 test /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/packages/kubecd-data
@cloudbees/kubecd-data: > jest
@cloudbees/core-data: > @cloudbees/core-data@1.0.0 test /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/packages/core-data
@cloudbees/core-data: > jest
@cloudbees/kubecd-data: PASS src/models/common/utils/ifEmptyThen.spec.ts (9.683s)
@cloudbees/kubecd-data:   ifEmptyThen
@cloudbees/kubecd-data:     âœ“ should return fallback when called with empty value (8ms)
@cloudbees/kubecd-data:     âœ“ should return value when called with non-empty value (3ms)
@cloudbees/kubecd-data:     âœ“ should handle numbers as empty values
@cloudbees/kubecd-data: Test Suites: 1 passed, 1 total
@cloudbees/kubecd-data: Tests:       3 passed, 3 total
@cloudbees/kubecd-data: Snapshots:   0 total
@cloudbees/kubecd-data: Time:        9.739s
@cloudbees/kubecd-data: Ran all test suites.
@cloudbees/core-data: PASS src/utils/ifEmptyThen.spec.ts (9.739s)
@cloudbees/core-data:   ifEmptyThen
@cloudbees/core-data:     âœ“ should return fallback when called with empty value (29ms)
@cloudbees/core-data:     âœ“ should return value when called with non-empty value (11ms)
@cloudbees/core-data:     âœ“ should handle numbers as empty values (2ms)
@cloudbees/core-data: Test Suites: 1 passed, 1 total
@cloudbees/core-data: Tests:       3 passed, 3 total
@cloudbees/core-data: Snapshots:   0 total
@cloudbees/core-data: Time:        9.888s
@cloudbees/core-data: Ran all test suites.
@cloudbees/core-ui: > @cloudbees/core-ui@1.0.0 test /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/packages/core-ui
@cloudbees/core-ui: > jest
@cloudbees/kubecd-ui: > @cloudbees/kubecd-ui@1.0.0 test /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/packages/kubecd-ui
@cloudbees/kubecd-ui: > jest
@cloudbees/kubecd-ui: PASS src/js/components-jdl/dialog/Dialog.spec.tsx
@cloudbees/kubecd-ui: PASS src/js/components-jdl/dropdown/Dropdown.spec.tsx
@cloudbees/kubecd-ui: PASS src/js/components-jdl/table/Table.spec.tsx
@cloudbees/kubecd-ui: PASS src/js/components-jdl/button/Button.spec.tsx
@cloudbees/kubecd-ui: PASS src/js/components-jdl/utils/css.spec.tsx
@cloudbees/kubecd-ui: PASS src/js/common/utils/redirectOnEvent.spec.ts
@cloudbees/kubecd-ui: PASS src/js/components-jdl/sheets/Sheets.spec.tsx (10.048s)
@cloudbees/kubecd-ui: PASS src/js/components-jdl/sidebar/Sidebar.spec.tsx
@cloudbees/kubecd-ui: Test Suites: 8 passed, 8 total
@cloudbees/kubecd-ui: Tests:       26 passed, 26 total
@cloudbees/kubecd-ui: Snapshots:   0 total
@cloudbees/kubecd-ui: Time:        33.719s
@cloudbees/kubecd-ui: Ran all test suites.
@cloudbees/core-ui: PASS tests/shots.js (149.37s)
@cloudbees/core-ui:   Storyshots
@cloudbees/core-ui:     Members
@cloudbees/core-ui:       âœ“ MemberList ðŸ“· (268ms)
@cloudbees/core-ui:     Project
@cloudbees/core-ui:       âœ“ ProjectList ðŸ“· (110ms)
@cloudbees/core-ui:     Teams
@cloudbees/core-ui:       âœ“ TeamList ðŸ“· (82ms)
@cloudbees/core-ui: Test Suites: 1 passed, 1 total
@cloudbees/core-ui: Tests:       3 passed, 3 total
@cloudbees/core-ui: Snapshots:   3 passed, 3 total
@cloudbees/core-ui: Time:        176.496s
@cloudbees/core-ui: Ran all test suites.
lerna success run Ran npm script 'test' in 7 packages:
lerna success - @cloudbees/core-api
lerna success - @cloudbees/core-data
lerna success - @cloudbees/core-flags
lerna success - @cloudbees/core-shipyard
lerna success - @cloudbees/core-ui
lerna success - @cloudbees/kubecd-data
lerna success - @cloudbees/kubecd-ui
Done in 281.19s.
+ yarn build
yarn run v1.3.2
$ sh ./scripts/build/application.sh
17:01:14
$ /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/node_modules/.bin/lerna run build --scope @cloudbees/core-ui
lerna notice cli v3.4.3
lerna info versioning independent
lerna info filter [ '@cloudbees/core-ui' ]
lerna info Executing command in 1 package: "npm run build"

> @cloudbees/core-ui@1.0.0 build /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/packages/core-ui
> rimraf ../../build && cross-env NODE_ENV='production' webpack --config=./webpack/web.js --progress -p

Starting type checking service...
Using 1 worker with 2048MB memory limit
Hash: 1b31d04346dcb7c70198
Version: webpack 4.25.1
Time: 121488ms
Built at: 2018-12-17 17:03:23
                             Asset       Size  Chunks                    Chunk Names
                       favicon.ico    7.7 KiB          [emitted]         
    index.1b31d04346dcb7c70198.css    169 KiB       0  [emitted]         index
index.1b31d04346dcb7c70198.css.map  107 bytes       0  [emitted]         index
     index.1b31d04346dcb7c70198.js   1.41 MiB       0  [emitted]  [big]  index
 index.1b31d04346dcb7c70198.js.map    5.1 MiB       0  [emitted]         index
                        index.html  662 bytes          [emitted]         
Entrypoint index [big] = index.1b31d04346dcb7c70198.js index.1b31d04346dcb7c70198.css index.1b31d04346dcb7c70198.js.map index.1b31d04346dcb7c70198.css.map
 [18] (webpack)/buildin/global.js 489 bytes {0} [built]
 [36] (webpack)/buildin/module.js 497 bytes {0} [built]
[356] /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/node_modules/create-emotion/dist/index.esm.js + 4 modules 31.9 KiB {0} [built]
      |    5 modules
[357] multi ./src/index.tsx 28 bytes {0} [built]
[537] /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/node_modules/moment/locale sync ^\.\/.*$ 2.91 KiB {0} [optional] [built]
[617] ./src/index.tsx + 248 modules 1.02 MiB {0} [built]
      | ./src/index.tsx 243 bytes [built]
      | ../core-flags/src/context.tsx 891 bytes [built]
      | ./src/flags.ts 203 bytes [built]
      | ./src/pages/index.tsx 2.19 KiB [built]
      | ./src/store.ts 909 bytes [built]
      | ../core-shipyard/src/styles/index.ts 214 KiB [built]
      | ../core-flags/src/storage.ts 344 bytes [built]
      | ../core-api/src/fetch.ts 270 bytes [built]
      | ./src/pages/teams.tsx 4.43 KiB [built]
      | ../core-shipyard/src/icons/CloudbeesCoreLogo.tsx 2.96 KiB [built]
      | ../core-data/src/models/Teams.ts 7.62 KiB [built]
      | ../core-data/src/models/Users.ts 3.44 KiB [built]
      | ../core-data/src/utils/connectWithStore.tsx 7.44 KiB [built]
      | ../core-api/src/middleware.ts 606 bytes [built]
      | ../core-api/src/auth.ts 359 bytes [built]
      |     + 234 hidden modules
[618] /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/node_modules/react-virtualized/dist/es/index.js + 65 modules 319 KiB {0} [built]
      |    66 modules
[624] ../core-shipyard/src/styles/shipyard.scss 41 bytes [built]
[625] /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/node_modules/css-loader??ref--5-2!/tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/node_modules/sass-loader/lib/loader.js!../core-shipyard/src/styles/shipyard.scss 170 KiB [built]
    + 617 hidden modules

WARNING in asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).
This can impact web performance.
Assets: 
  index.1b31d04346dcb7c70198.js (1.41 MiB)

WARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.
Entrypoints:
  index (1.58 MiB)
      index.1b31d04346dcb7c70198.js
      index.1b31d04346dcb7c70198.css


WARNING in webpack performance recommendations: 
You can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.
For more info visit https://webpack.js.org/guides/code-splitting/
Child extract-text-webpack-plugin ../../node_modules/extract-text-webpack-plugin/dist ../../node_modules/css-loader/index.js??ref--5-2!../../node_modules/sass-loader/lib/loader.js!../../node_modules/@expantra/pipeline-widget-proto/styles/css/main.css:
    Entrypoint undefined = extract-text-webpack-plugin-output-filename
       2 modules
Child extract-text-webpack-plugin ../../node_modules/extract-text-webpack-plugin/dist ../../node_modules/css-loader/index.js??ref--5-2!../../node_modules/sass-loader/lib/loader.js!../core-shipyard/src/styles/shipyard.scss:
    Entrypoint undefined = extract-text-webpack-plugin-output-filename
    [0] /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/node_modules/css-loader??ref--5-2!/tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/node_modules/sass-loader/lib/loader.js!../core-shipyard/src/styles/shipyard.scss 170 KiB {0} [built]
        + 1 hidden module
Child html-webpack-plugin for "index.html":
     1 asset
    Entrypoint undefined = index.html
    [0] /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/node_modules/html-webpack-plugin/lib/loader.js!./src/index.html 811 bytes {0} [built]
    [2] (webpack)/buildin/global.js 489 bytes {0} [built]
    [3] (webpack)/buildin/module.js 497 bytes {0} [built]
        + 1 hidden module
lerna success run Ran npm script 'build' in 1 package:
lerna success - @cloudbees/core-ui
17:03:23
$ /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/node_modules/.bin/lerna run build --scope @cloudbees/kubecd-ui
lerna notice cli v3.4.3
lerna info versioning independent
lerna info filter [ '@cloudbees/kubecd-ui' ]
lerna info Executing command in 1 package: "npm run build"

> @cloudbees/kubecd-ui@1.0.0 build /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/packages/kubecd-ui
> rimraf ../../build/kubecd && cross-env NODE_ENV='production' BASE_PATH='/kubecd' webpack --config=./webpack/web.js --progress -p

Hash: ac2820c3fd7eaf11c427
Version: webpack 4.25.1
Time: 169945ms
Built at: 2018-12-17 17:06:19
                             Asset       Size  Chunks                    Chunk Names
    index.ac2820c3fd7eaf11c427.css   63.2 KiB       0  [emitted]         index
index.ac2820c3fd7eaf11c427.css.map  107 bytes       0  [emitted]         index
     index.ac2820c3fd7eaf11c427.js   1.54 MiB       0  [emitted]  [big]  index
 index.ac2820c3fd7eaf11c427.js.map   5.84 MiB       0  [emitted]         index
                        index.html  405 bytes          [emitted]         
Entrypoint index [big] = index.ac2820c3fd7eaf11c427.js index.ac2820c3fd7eaf11c427.css index.ac2820c3fd7eaf11c427.js.map index.ac2820c3fd7eaf11c427.css.map
 [29] ./src/js/components-jdl/icons/index.ts 1.06 KiB {0} [built]
 [39] (webpack)/buildin/global.js 489 bytes {0} [built]
[201] ./src/js/components-jdl/icons/Activity.tsx 1.15 KiB {0} [built]
[202] ./src/js/components-jdl/icons/Applications.tsx 611 bytes {0} [built]
[203] ./src/js/components-jdl/icons/ArrowLeft.tsx 938 bytes {0} [built]
[204] ./src/js/components-jdl/icons/Atlasssian.tsx 1.95 KiB {0} [built]
[205] ./src/js/components-jdl/icons/Check.tsx 933 bytes {0} [built]
[206] ./src/js/components-jdl/icons/ChevronRight.tsx 741 bytes {0} [built]
[207] ./src/js/components-jdl/icons/Clear.tsx 812 bytes {0} [built]
[208] ./src/js/components-jdl/icons/Close.tsx 986 bytes {0} [built]
[209] ./src/js/components-jdl/icons/Dashboard.tsx 1.09 KiB {0} [built]
[210] ./src/js/components-jdl/icons/GitBranch.tsx 1.24 KiB {0} [built]
[481] multi ./src/js/index.tsx 28 bytes {0} [built]
[767] ./src/js/index.tsx + 198 modules 688 KiB {0} [built]
      | ./src/js/index.tsx 207 bytes [built]
      | ./src/js/components-jdl/dialog/index.ts 59 bytes [built]
      | ./src/js/components-jdl/sheets/index.ts 26 bytes [built]
      | ./src/js/common/flags/context.tsx 289 bytes [built]
      | ./src/js/common/flags/setup.ts 616 bytes [built]
      | ./src/js/store.ts 984 bytes [built]
      | ./src/js/components-jdl/dialog/Dialog.tsx 2.8 KiB [built]
      | ./src/js/components-jdl/dialog/DialogManager.tsx 2.98 KiB [built]
      | ./src/js/components-jdl/sheets/Sheets.tsx 5.6 KiB [built]
      | ./src/js/common/flags/adapters/localStorage.ts 339 bytes [built]
      | ../core-api/src/fetch.ts 270 bytes [built]
      | ../kubecd-data/src/models/Teams.ts 5.31 KiB [built]
      | ../kubecd-data/src/models/Users.ts 3.38 KiB [built]
      | ./src/js/components-jdl/utils/index.ts 215 bytes [built]
      | ../core-api/src/util/requests.ts 517 bytes [built]
      |     + 184 hidden modules
[872] /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/node_modules/css-loader??ref--5-2!/tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/node_modules/sass-loader/lib/loader.js!./src/css/styles.scss 37.5 KiB [built]
    + 862 hidden modules

WARNING in asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).
This can impact web performance.
Assets: 
  index.ac2820c3fd7eaf11c427.js (1.54 MiB)

WARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.
Entrypoints:
  index (1.6 MiB)
      index.ac2820c3fd7eaf11c427.js
      index.ac2820c3fd7eaf11c427.css


WARNING in webpack performance recommendations: 
You can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.
For more info visit https://webpack.js.org/guides/code-splitting/
Child extract-text-webpack-plugin ../../node_modules/extract-text-webpack-plugin/dist ../../node_modules/css-loader/index.js??ref--5-2!../../node_modules/sass-loader/lib/loader.js!../../node_modules/@expantra/pipeline-widget-proto/styles/css/main.css:
    Entrypoint undefined = extract-text-webpack-plugin-output-filename
       2 modules
Child extract-text-webpack-plugin ../../node_modules/extract-text-webpack-plugin/dist ../../node_modules/css-loader/index.js??ref--5-2!../../node_modules/sass-loader/lib/loader.js!../../node_modules/react-select/dist/react-select.css:
    Entrypoint undefined = extract-text-webpack-plugin-output-filename
       2 modules
Child extract-text-webpack-plugin ../../node_modules/extract-text-webpack-plugin/dist ../../node_modules/css-loader/index.js??ref--5-2!../../node_modules/sass-loader/lib/loader.js!../../node_modules/react-tippy/dist/tippy.css:
    Entrypoint undefined = extract-text-webpack-plugin-output-filename
       2 modules
Child extract-text-webpack-plugin ../../node_modules/extract-text-webpack-plugin/dist ../../node_modules/css-loader/index.js??ref--5-2!../../node_modules/sass-loader/lib/loader.js!src/css/styles.scss:
    Entrypoint undefined = extract-text-webpack-plugin-output-filename
    [0] /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/node_modules/css-loader??ref--5-2!/tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/node_modules/sass-loader/lib/loader.js!./src/css/styles.scss 37.5 KiB {0} [built]
        + 1 hidden module
Child html-webpack-plugin for "index.html":
     1 asset
    Entrypoint undefined = index.html
    [0] /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/node_modules/html-webpack-plugin/lib/loader.js!./src/index.html 538 bytes {0} [built]
    [2] (webpack)/buildin/global.js 489 bytes {0} [built]
    [3] (webpack)/buildin/module.js 497 bytes {0} [built]
        + 1 hidden module
lerna success run Ran npm script 'build' in 1 package:
lerna success - @cloudbees/kubecd-ui
Done in 306.01s.
+ yarn build-storybooks
yarn run v1.3.2
$ lerna run storybook-build
lerna notice cli v3.4.3
lerna info versioning independent
lerna info Executing command in 2 packages: "npm run storybook-build"

> @cloudbees/core-shipyard@1.0.0 storybook-build /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/packages/core-shipyard
> rimraf ../../build/shipyard && build-storybook -c .storybook -o ../../build/shipyard


> @cloudbees/core-ui@1.0.0 storybook-build /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/packages/core-ui
> rimraf ../../build/stories && build-storybook -c .storybook -o ../../build/stories

lerna success run Ran npm script 'storybook-build' in 2 packages:
lerna success - @cloudbees/core-shipyard
lerna success - @cloudbees/core-ui
Done in 117.40s.
+ docker build -t docker.io/jenkinsxio/core-frontend:0.0.0-SNAPSHOT-PR-512-3 .
Sending build context to Docker daemon  445.5MB
Step 1/2 : FROM jenkinsxio/core-backend:0.0.141
 ---> efec8b677d66
Step 2/2 : COPY ./build /
 ---> ca349bbb8651
Removing intermediate container 12d4c027240f
Successfully built ca349bbb8651
+ docker push docker.io/jenkinsxio/core-frontend:0.0.0-SNAPSHOT-PR-512-3
The push refers to a repository [docker.io/jenkinsxio/core-frontend]
b0aff5128b78: Preparing
f795786d733f: Preparing
74f21ee46711: Preparing
f31cb57ed203: Preparing
7ad25bcded1a: Preparing
1b240e94bab9: Preparing
f3f0d56714d0: Preparing
df64d3292fd6: Preparing
1b240e94bab9: Waiting
f3f0d56714d0: Waiting
df64d3292fd6: Waiting
74f21ee46711: Layer already exists
f31cb57ed203: Layer already exists
f795786d733f: Layer already exists
7ad25bcded1a: Layer already exists
df64d3292fd6: Layer already exists
f3f0d56714d0: Layer already exists
1b240e94bab9: Layer already exists
b0aff5128b78: Pushed
0.0.0-SNAPSHOT-PR-512-3: digest: sha256:88e7f8ea06a5717bf60ef0d9150988e0f7075050f98b32680c760e237d490651 size: 2008
[Pipeline] sh
+ ./scripts/ci/e2e.sh
+ set -e
+ apt-get install --fix-missing -y xvfb
Reading package lists...
Building dependency tree...
Reading state information...
xvfb is already the newest version (2:1.19.2-1+deb9u5).
0 upgraded, 0 newly installed, 0 to remove and 7 not upgraded.
+ apt-get install --fix-missing -y libgconf-2-4
Reading package lists...
Building dependency tree...
Reading state information...
The following additional packages will be installed:
  gconf-service gconf2-common
The following NEW packages will be installed:
  gconf-service gconf2-common libgconf-2-4
0 upgraded, 3 newly installed, 0 to remove and 7 not upgraded.
Need to get 1881 kB of archives.
After this operation, 7679 kB of additional disk space will be used.
Get:1 http://deb.debian.org/debian stretch/main amd64 gconf2-common all 3.2.6-4 [1040 kB]
Get:2 http://deb.debian.org/debian stretch/main amd64 libgconf-2-4 amd64 3.2.6-4+b1 [427 kB]
Get:3 http://deb.debian.org/debian stretch/main amd64 gconf-service amd64 3.2.6-4+b1 [415 kB]
debconf: delaying package configuration, since apt-utils is not installed
Fetched 1881 kB in 0s (4822 kB/s)
Selecting previously unselected package gconf2-common.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 36642 files and directories currently installed.)
Preparing to unpack .../gconf2-common_3.2.6-4_all.deb ...
Unpacking gconf2-common (3.2.6-4) ...
Selecting previously unselected package libgconf-2-4:amd64.
Preparing to unpack .../libgconf-2-4_3.2.6-4+b1_amd64.deb ...
Unpacking libgconf-2-4:amd64 (3.2.6-4+b1) ...
Selecting previously unselected package gconf-service.
Preparing to unpack .../gconf-service_3.2.6-4+b1_amd64.deb ...
Unpacking gconf-service (3.2.6-4+b1) ...
Setting up gconf2-common (3.2.6-4) ...
debconf: unable to initialize frontend: Dialog
debconf: (TERM is not set, so the dialog frontend is not usable.)
debconf: falling back to frontend: Readline

Creating config file /etc/gconf/2/path with new version
Setting up libgconf-2-4:amd64 (3.2.6-4+b1) ...
Setting up gconf-service (3.2.6-4+b1) ...
Processing triggers for libc-bin (2.24-11+deb9u3) ...
+ previewURL=http://0.0.0.0:9000
+ echo 'Running e2e tests against http://0.0.0.0:9000'
Running e2e tests against http://0.0.0.0:9000
+ yarn build-server
yarn run v1.3.2
$ forever start -c http-server ./build -p 9000 -a 0.0.0.0 -c-1
[33mwarn[39m:    --minUptime not set. Defaulting to: 1000ms
[33mwarn[39m:    --spinSleepTime not set. Your script will exit if it does not stay up for at least 1000ms
[32minfo[39m:    Forever processing file: [90m./build[39m
Done in 0.84s.
+ CYPRESS_CORE_UI=http://0.0.0.0:9000
+ yarn cypress
yarn run v1.3.2
$ lerna run cypress-run --stream --scope @cloudbees/core-ui
lerna notice cli v3.4.3
lerna info versioning independent
lerna info filter [ '@cloudbees/core-ui' ]
lerna info Executing command in 1 package: "npm run cypress-run"
@cloudbees/core-ui: > @cloudbees/core-ui@1.0.0 cypress-run /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/packages/core-ui
@cloudbees/core-ui: > cypress run
@cloudbees/core-ui: It looks like this is your first time using Cypress: 3.1.1
@cloudbees/core-ui: [?25l[17:09:24]  Verifying Cypress can run /builder/home/.cache/Cypress/3.1.1/Cypress [started]
@cloudbees/core-ui: [17:09:35]  Verifying Cypress can run /builder/home/.cache/Cypress/3.1.1/Cypress [completed]
@cloudbees/core-ui: [?25h
@cloudbees/core-ui: Opening Cypress...
@cloudbees/core-ui: ================================================================================
@cloudbees/core-ui:   (Run Starting)
@cloudbees/core-ui:   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
@cloudbees/core-ui:   â”‚ Cypress:  3.1.1                                                            â”‚
@cloudbees/core-ui:   â”‚ Browser:  Electron 59 (headless)                                           â”‚
@cloudbees/core-ui:   â”‚ Specs:    2 found (teams/TeamConnect.spec.js, teams/TeamList.spec.js)      â”‚
@cloudbees/core-ui:   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
@cloudbees/core-ui: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
@cloudbees/core-ui:                                                                                 
@cloudbees/core-ui:   Running: teams/TeamConnect.spec.js...                                (1 of 2) 
@cloudbees/core-ui:   Team Connect
@cloudbees/core-ui:     âœ“ can open Connect dialog for JX team (3465ms)
@cloudbees/core-ui:   1 passing (8s)
@cloudbees/core-ui:   (Results)
@cloudbees/core-ui:   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
@cloudbees/core-ui:   â”‚ Tests:        1                         â”‚
@cloudbees/core-ui:   â”‚ Passing:      1                         â”‚
@cloudbees/core-ui:   â”‚ Failing:      0                         â”‚
@cloudbees/core-ui:   â”‚ Pending:      0                         â”‚
@cloudbees/core-ui:   â”‚ Skipped:      0                         â”‚
@cloudbees/core-ui:   â”‚ Screenshots:  0                         â”‚
@cloudbees/core-ui:   â”‚ Video:        false                     â”‚
@cloudbees/core-ui:   â”‚ Duration:     8 seconds                 â”‚
@cloudbees/core-ui:   â”‚ Spec Ran:     teams/TeamConnect.spec.js â”‚
@cloudbees/core-ui:   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
@cloudbees/core-ui: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
@cloudbees/core-ui:                                                                                 
@cloudbees/core-ui:   Running: teams/TeamList.spec.js...                                   (2 of 2) 
@cloudbees/core-ui:   Team List
@cloudbees/core-ui:     âœ“ can navigate to JX team (4189ms)
@cloudbees/core-ui:   1 passing (9s)
@cloudbees/core-ui:   (Results)
@cloudbees/core-ui:   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
@cloudbees/core-ui:   â”‚ Tests:        1                      â”‚
@cloudbees/core-ui:   â”‚ Passing:      1                      â”‚
@cloudbees/core-ui:   â”‚ Failing:      0                      â”‚
@cloudbees/core-ui:   â”‚ Pending:      0                      â”‚
@cloudbees/core-ui:   â”‚ Skipped:      0                      â”‚
@cloudbees/core-ui:   â”‚ Screenshots:  0                      â”‚
@cloudbees/core-ui:   â”‚ Video:        false                  â”‚
@cloudbees/core-ui:   â”‚ Duration:     9 seconds              â”‚
@cloudbees/core-ui:   â”‚ Spec Ran:     teams/TeamList.spec.js â”‚
@cloudbees/core-ui:   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
@cloudbees/core-ui: ================================================================================
@cloudbees/core-ui:   (Run Finished)
@cloudbees/core-ui:       Spec                                    Tests  Passâ€¦  Failâ€¦  Pendâ€¦  Skipâ€¦ 
@cloudbees/core-ui:   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
@cloudbees/core-ui:   â”‚ âœ” teams/TeamConnect.spec.js       00:08      1      1      -      -      - â”‚
@cloudbees/core-ui:   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
@cloudbees/core-ui:   â”‚ âœ” teams/TeamList.spec.js          00:09      1      1      -      -      - â”‚
@cloudbees/core-ui:   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
@cloudbees/core-ui:     All specs passed!                 00:17      2      2      -      -      -  
@cloudbees/core-ui: [?25h
lerna success run Ran npm script 'cypress-run' in 1 package:
lerna success - @cloudbees/core-ui
Done in 80.28s.
+ yarn build-server-stop
yarn run v1.3.2
$ forever stopall && kill-port 9000
[32minfo[39m:    Forever stopped processes:
[90mdata[39m:    [37m   [39m [37muid[39m  [90mcommand[39m     [90mscript[39m                        [37mforever[39m [37mpid[39m  [37mid[39m [35mlogfile[39m                         [33muptime[39m       
[90mdata[39m:    [0] zwFf [90mhttp-server[39m [90mbuild -p 9000 -a 0.0.0.0 -c-1[39m 2475    2497    [35m/builder/home/.forever/zwFf.log[39m [33m0:0:1:22.628[39m 
Process on port 9000 killed
Done in 1.53s.
[Pipeline] dir
Running in /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/charts/preview
[Pipeline] {
[Pipeline] retry
[Pipeline] {
[Pipeline] sh
+ make preview
helm init --client-only
Creating /builder/home/.helm 
Creating /builder/home/.helm/repository 
Creating /builder/home/.helm/repository/cache 
Creating /builder/home/.helm/repository/local 
Creating /builder/home/.helm/plugins 
Creating /builder/home/.helm/starters 
Creating /builder/home/.helm/cache/archive 
Creating /builder/home/.helm/repository/repositories.yaml 
Adding stable repo with URL: https://kubernetes-charts.storage.googleapis.com 
Adding local repo with URL: http://127.0.0.1:8879/charts 
$HELM_HOME has been configured at /builder/home/.helm.
Not installing Tiller due to 'client-only' flag having been set
Happy Helming!
helm repo add chartmuseum http://chartmuseum.jenkins-x.io
"chartmuseum" has been added to your repositories
sed -i -e "s/version:.*/version: 0.0.0-SNAPSHOT-PR-512-3/" Chart.yaml
sed -i -e "s/version:.*/version: 0.0.0-SNAPSHOT-PR-512-3/" ../*/Chart.yaml
sed -i -e "s/repository: .*/repository: docker.io\/jenkinsxio\/core-frontend/" values.yaml
sed -i -e "s/tag: .*/tag: 0.0.0-SNAPSHOT-PR-512-3/" values.yaml
echo "  version: 0.0.0-SNAPSHOT-PR-512-3" >> requirements.yaml
helm dependency build
Hang tight while we grab the latest from your chart repositories...
...Unable to get an update from the "local" chart repository (http://127.0.0.1:8879/charts):
	Get http://127.0.0.1:8879/charts/index.yaml: dial tcp 127.0.0.1:8879: connect: connection refused
...Successfully got an update from the "chartmuseum" chart repository
...Successfully got an update from the "stable" chart repository
Update Complete. âŽˆHappy Helming!âŽˆ
Saving 3 charts
Downloading exposecontroller from repo http://chartmuseum.jenkins-x.io
Downloading exposecontroller from repo http://chartmuseum.jenkins-x.io
Deleting outdated charts
helm lint
==> Linting .
Lint OK

1 chart(s) linted, no failures
gcloud auth activate-service-account --key-file ****
Activated service account credentials for: [jx-212@jenkinsx-dev.iam.gserviceaccount.com]
gcloud container clusters get-credentials anthorse --zone europe-west1-b --project jenkinsx-dev
Fetching cluster endpoint and auth data.
kubeconfig entry generated for anthorse.
[Pipeline] }
[Pipeline] // retry
[Pipeline] sh
+ jx --version
+ echo jx version: 1.3.661
jx version: 1.3.661
[Pipeline] sh
+ jx ns jx -b
Using namespace 'jx' from context named 'gke_jenkinsx-dev_europe-west1-b_anthorse' on server 'https://35.190.196.114'.
[Pipeline] sh
+ helm init --upgrade --force-upgrade --wait
$HELM_HOME has been configured at /builder/home/.helm.

Tiller (the Helm server-side component) has been upgraded to the current version.
Happy Helming!
[Pipeline] sh
+ jx preview --dev-namespace jx --app core --dir ../..
Creating a preview
Commit author email is empty for: 72714b75b017c956c3f4244eaf6884373471d001
Looking for commits in: /tmp/jenkinsTests.tmp/jenkins3085272643321239068test/workspace/job/
CreateOrUpdateUser: mkramb <mitja.kramberger@gmail.com>
Existing user found: mitja.kramberger@gmail.com
Created environment cloudbees-core-frontend-pr-512
Namespace jx-cloudbees-core-frontend-pr-512 created 
 expose:
  config:
    domain: 104.155.31.11.nip.io
    exposer: Ingress
    http: "true"
  Annotations:
    helm.sh/hook: post-install,post-upgrade
    helm.sh/hook-delete-policy: hook-succeeded
preview:
  image:
    repository: 10.51.248.122:5000/jenkinsxio/core-frontend
    tag: 0.0.0-SNAPSHOT-PR-512-3
Applying generated chart . YAML via kubectl in dir: /tmp/helm-template-workdir-902300464/preview/output
role.rbac.authorization.k8s.io/cleanup created
rolebinding.rbac.authorization.k8s.io/cleanup created
serviceaccount/cleanup created
deployment.extensions/preview-core created
clusterrolebinding.rbac.authorization.k8s.io/preview-core configured
service/preview-core created
serviceaccount/core created
configmap/exposecontroller created
role.rbac.authorization.k8s.io/expose created
rolebinding.rbac.authorization.k8s.io/expose created
serviceaccount/expose created
Applying Helm hook post-upgrade YAML via kubectl in file: /tmp/helm-template-workdir-902300464/preview/helmHooks/preview/charts/expose/templates/job.yaml
job.batch/expose created
Waiting for helm post-upgrade hook Job expose to complete before removing it
Deleting helm hook sources from file: /tmp/helm-template-workdir-902300464/preview/helmHooks/preview/charts/expose/templates/job.yaml
job.batch "expose" deleted
Removing Kubernetes resources from older releases using selector: jenkins.io/chart-release=preview,jenkins.io/version!=0.0.0-SNAPSHOT-PR-512-3
Updating PipelineActivities cloudbees-core-frontend-pr-512-3 which has status 
Preview application is now available at: http://core.jx-cloudbees-core-frontend-pr-512.104.155.31.11.nip.io

[Pipeline] }
[Pipeline] // dir
Post stage
[Pipeline] archiveArtifacts
Archiving artifacts
Recording fingerprints
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Build and Deploy Release)
Stage "Build and Deploy Release" skipped due to when conditional
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // withCredentials
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS
